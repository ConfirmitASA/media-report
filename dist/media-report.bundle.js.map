{"version":3,"sources":["webpack:///media-report.bundle.js","webpack:///webpack/bootstrap a3cec94a22c5be027459","webpack:///./src/main.js","webpack:///./~/media-query/src/main.js","webpack:///./src/hierarchy/hierarchy.js","webpack:///./src/navigation/menu-transformer.js","webpack:///./src/r2/header-scroller.js","webpack:///./src/side-nav/detabinator.js","webpack:///./src/side-nav/side-nav.js"],"names":["modules","__webpack_require__","moduleId","installedModules","exports","module","id","loaded","call","m","c","p","_interopRequireDefault","obj","__esModule","default","_hierarchy","_hierarchy2","_menuTransformer","_menuTransformer2","window","addEventListener","Reportal","state","hierarchy","menuTransformer","_classCallCheck","instance","Constructor","TypeError","Object","defineProperty","value","_createClass","defineProperties","target","props","i","length","descriptor","enumerable","configurable","writable","key","protoProps","staticProps","prototype","MediaQuery","options","callback","context","arguments","undefined","this","query","_options$full","full","_matches","_mq","_callback","_context","_bound","_onMatch","bind","mq","matches","get","_query","set","val","constructor","remove","matchMedia","add","bound","addListener","removeListener","MDHierarchy","_this","btn","document","querySelector","e","noScroll","dd","parentNode","setTimeout","closE","cancel","apply","path","click","scroll","setAttribute","_sideNav","_sideNav2","_mediaQuery","_mediaQuery2","_headerScroller","_headerScroller2","MenuTransformer","breakpoint","iframe","header","classList","pScroller","Promise","resolve","reject","scroller","contentWindow","location","href","sidenav","console","log","swapHeader","addEventListeners","removeEventListeners","then","hs","w","rHeader","HeaderScroller","win","requestAnimationFrame","mozRequestAnimationFrame","webkitRequestAnimationFrame","msRequestAnimationFrame","_meta","ticking","offsetHeight","lastScrollY","scrollFixed","removeEventListener","requestTick","pageYOffset","_scrollCallback","offset","style","top","detachListeners","marginTop","attachListeners","Detabinator","element","Error","_inert","_focusableElementsString","_focusableElements","Array","from","querySelectorAll","isInert","forEach","child","hasAttribute","__savedTabindex","tabIndex","removeAttribute","_detabinator","_detabinator2","SideNav","showButtonEl","hideButtonEl","sideNavEl","sideNavContainerEl","detabinator","inert","showSideNav","hideSideNav","blockClicks","onTouchStart","onTouchMove","onTouchEnd","onTransitionEnd","update","startX","currentX","touchingSideNav","supportsPassive","passive","isSupported","applyPassive","evt","contains","touches","pageX","translateX","Math","min","transform","overflow","stopPropagation"],"mappings":"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","file":"media-report.bundle.js","sourcesContent":["/******/ (function(modules) { // webpackBootstrap\n/******/ \t// The module cache\n/******/ \tvar installedModules = {};\n/******/\n/******/ \t// The require function\n/******/ \tfunction __webpack_require__(moduleId) {\n/******/\n/******/ \t\t// Check if module is in cache\n/******/ \t\tif(installedModules[moduleId])\n/******/ \t\t\treturn installedModules[moduleId].exports;\n/******/\n/******/ \t\t// Create a new module (and put it into the cache)\n/******/ \t\tvar module = installedModules[moduleId] = {\n/******/ \t\t\texports: {},\n/******/ \t\t\tid: moduleId,\n/******/ \t\t\tloaded: false\n/******/ \t\t};\n/******/\n/******/ \t\t// Execute the module function\n/******/ \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n/******/\n/******/ \t\t// Flag the module as loaded\n/******/ \t\tmodule.loaded = true;\n/******/\n/******/ \t\t// Return the exports of the module\n/******/ \t\treturn module.exports;\n/******/ \t}\n/******/\n/******/\n/******/ \t// expose the modules object (__webpack_modules__)\n/******/ \t__webpack_require__.m = modules;\n/******/\n/******/ \t// expose the module cache\n/******/ \t__webpack_require__.c = installedModules;\n/******/\n/******/ \t// __webpack_public_path__\n/******/ \t__webpack_require__.p = \"\";\n/******/\n/******/ \t// Load entry module and return exports\n/******/ \treturn __webpack_require__(0);\n/******/ })\n/************************************************************************/\n/******/ ([\n/* 0 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t\"use strict\";\n\t\n\tvar _hierarchy = __webpack_require__(2);\n\t\n\tvar _hierarchy2 = _interopRequireDefault(_hierarchy);\n\t\n\tvar _menuTransformer = __webpack_require__(3);\n\t\n\tvar _menuTransformer2 = _interopRequireDefault(_menuTransformer);\n\t\n\tfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\t\n\t__webpack_require__(7);\n\t\n\t\n\twindow.addEventListener('DOMContentLoaded', function () {\n\t  window.Reportal = window.Reportal || {};\n\t  window.Reportal.state = window.Reportal.state || {};\n\t  var state = window.Reportal.state;\n\t  state.hierarchy = new _hierarchy2.default(); //setup listeners for hierarchy component on open and scrim click\n\t  state.menuTransformer = new _menuTransformer2.default(); //setup listeners for hierarchy component on open and scrim click\n\t});\n\n/***/ },\n/* 1 */\n/***/ function(module, exports) {\n\n\t'use strict';\n\t\n\tObject.defineProperty(exports, \"__esModule\", {\n\t  value: true\n\t});\n\t\n\tvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\t\n\tfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\t\n\t/**\r\n\t * Created by IvanP on 13.12.2016.\r\n\t */\n\t/**\r\n\t * `MediaQuery` helps perform actions when CSS query is matched instead of polling the window width, when it's not so important to get exact width, only checking matching the query.\r\n\t *\r\n\t * ``` javascript\r\n\t * function onMatch(matches){\r\n\t *  if(matches){\r\n\t *    // do what you need when the mediaquery is matched\r\n\t *  } else {\r\n\t *     // do what you need when the media query is not matched\r\n\t *  }\r\n\t * }\r\n\t *\r\n\t *  var mq = new MediaQuery({query:\"max-width:760px\"},onMatch,this);\r\n\t *\r\n\t *  //at any time you may check whether it matches the query:\r\n\t *\r\n\t *  mq.matches //true or false\r\n\t * ```\r\n\t *\r\n\t * @param {Object} options\r\n\t * @param {Object} options.query - The CSS media query to evaluate.\r\n\t * @param {Boolean} [options.full=false] - If true, the query attribute is assumed to be a complete media query string rather than a single media feature.\r\n\t * @param {Function} callback - function to execute when matching is evaluated\r\n\t * @param {Object|Function} [context=this] - context in which the `callback` function needs to be executed\r\n\t *\r\n\t * @property {Boolean} matches - whether the query matches the window width. Readonly.\r\n\t * @property {Boolean} full - If true, the query attribute is assumed to be a complete media query string rather than a single media feature.\r\n\t * @property {String} query - The CSS media query to evaluate.\r\n\t * */\n\tvar MediaQuery = function () {\n\t  function MediaQuery(options, callback) {\n\t    var context = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : this;\n\t\n\t    _classCallCheck(this, MediaQuery);\n\t\n\t    var query = options.query,\n\t        _options$full = options.full,\n\t        full = _options$full === undefined ? false : _options$full;\n\t\n\t    this._matches = false;\n\t    this.full = full;\n\t    this._mq = null;\n\t    this._callback = callback;\n\t    this._context = context;\n\t    this._bound = this._onMatch.bind(this);\n\t    this.query = query;\n\t  }\n\t\n\t  _createClass(MediaQuery, [{\n\t    key: '_onMatch',\n\t    value: function _onMatch(mq) {\n\t      this._matches = mq.matches;\n\t      return this._callback.call(this._context, mq.matches);\n\t    }\n\t  }, {\n\t    key: 'matches',\n\t    get: function get() {\n\t      return this._matches;\n\t    }\n\t  }, {\n\t    key: 'query',\n\t    get: function get() {\n\t      return this._query;\n\t    },\n\t    set: function set(val) {\n\t      this._query = val;\n\t      this.constructor.remove(this._mq, this._bound);\n\t      var query = this.query;\n\t      if (!query) {\n\t        return;\n\t      }\n\t      if (!this.full && query[0] !== '(') {\n\t        query = '(' + query + ')';\n\t      }\n\t      this._mq = window.matchMedia(query);\n\t      this._onMatch(this._mq);\n\t      this.constructor.add(this._mq, this._bound);\n\t    }\n\t  }], [{\n\t    key: 'add',\n\t    value: function add(mq, bound) {\n\t      if (mq) {\n\t        mq.addListener(bound);\n\t      }\n\t    }\n\t  }, {\n\t    key: 'remove',\n\t    value: function remove(mq, bound) {\n\t      if (mq) {\n\t        mq.removeListener(bound);\n\t      }\n\t      mq = null;\n\t    }\n\t  }]);\n\t\n\t  return MediaQuery;\n\t}();\n\t\n\texports.default = MediaQuery;\n\tmodule.exports = exports['default'];\n\n/***/ },\n/* 2 */\n/***/ function(module, exports) {\n\n\t'use strict';\n\t\n\tObject.defineProperty(exports, \"__esModule\", {\n\t  value: true\n\t});\n\t\n\tvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\t\n\tfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\t\n\t/**\r\n\t * Created by IvanP on 07.12.2016.\r\n\t */\n\t\n\tvar MDHierarchy = function () {\n\t  /**\r\n\t   * attaches a listener to a hierarchy popup when it's initialised to be able to close it on click-outside\r\n\t   * */\n\t  function MDHierarchy() {\n\t    var _this = this;\n\t\n\t    _classCallCheck(this, MDHierarchy);\n\t\n\t    var btn = document.querySelector('.dd-target-button');\n\t    if (btn) {\n\t      btn.addEventListener('click', function (e) {\n\t        _this.constructor.noScroll();\n\t        var dd = btn.parentNode.querySelector('.dd-drilldown');\n\t        if (!dd) {\n\t          setTimeout(function () {\n\t            dd = btn.parentNode.querySelector('.dd-drilldown');\n\t            if (dd) {\n\t              dd.addEventListener('click', function (closE) {\n\t                var cancel = dd.querySelector('.dd-cancel'),\n\t                    apply = dd.querySelector('.dd-button-select');\n\t                if (closE.path[0] == dd || closE.path[0] == cancel || closE.path[0] == apply) {\n\t                  if (closE.path[0] == dd) {\n\t                    cancel.click();\n\t                  }\n\t                  _this.constructor.scroll();\n\t                }\n\t              });\n\t            }\n\t          }, 300);\n\t        }\n\t      });\n\t    }\n\t  }\n\t\n\t  _createClass(MDHierarchy, null, [{\n\t    key: 'noScroll',\n\t    value: function noScroll() {\n\t      document.querySelector('body').setAttribute('style', 'overflow:hidden !important');\n\t    }\n\t  }, {\n\t    key: 'scroll',\n\t    value: function scroll() {\n\t      document.querySelector('body').setAttribute('style', '');\n\t    }\n\t  }]);\n\t\n\t  return MDHierarchy;\n\t}();\n\t\n\texports.default = MDHierarchy;\n\tmodule.exports = exports['default'];\n\n/***/ },\n/* 3 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t\"use strict\";\n\t\n\tObject.defineProperty(exports, \"__esModule\", {\n\t  value: true\n\t});\n\t\n\tvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\t\n\tvar _sideNav = __webpack_require__(6);\n\t\n\tvar _sideNav2 = _interopRequireDefault(_sideNav);\n\t\n\tvar _mediaQuery = __webpack_require__(1);\n\t\n\tvar _mediaQuery2 = _interopRequireDefault(_mediaQuery);\n\t\n\tvar _headerScroller = __webpack_require__(4);\n\t\n\tvar _headerScroller2 = _interopRequireDefault(_headerScroller);\n\t\n\tfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\t\n\tfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\t\n\tvar MenuTransformer = function () {\n\t  /**\r\n\t   * This class sets up a listener to detect whether the viewport matches the max-width set up in `breakpoint` and based on existence of an integration-iframe\r\n\t   * sets up heade scrollers or just swaps the header into horizontal or sidebar navigation modes\r\n\t   * @param {Number} [breakpoint=768] - max-width of device viewport that is considered to be a mobile device and hosts a mobile sidebar.\r\n\t   * @requires MediaQuery\r\n\t   * @requires SideNav\r\n\t   * @requires HeaderScroller\r\n\t   * */\n\t  function MenuTransformer() {\n\t    var _this = this;\n\t\n\t    var breakpoint = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : 768;\n\t\n\t    _classCallCheck(this, MenuTransformer);\n\t\n\t    this.iframe = document.querySelector('.r2dashboard');\n\t\n\t    this.header = document.querySelector('.reportal-bar');\n\t\n\t    // if it's integration page - do scrolling\n\t    if (this.iframe) {\n\t      document.querySelector('.body-wrapper').classList.add('integration-mode'); //reverse layout to make header appear above iframe\n\t\n\t      this.pScroller = new Promise(function (resolve, reject) {\n\t        var scroller = void 0;\n\t        if (_this.iframe.contentWindow.location.href != 'about:blank') {\n\t          scroller = _this.scroller(_this.iframe.contentWindow);\n\t\n\t          resolve(scroller); //resolve to the instance of `HeaderScroller`\n\t        } else {\n\t          _this.iframe.addEventListener('load', function (e) {\n\t            scroller = _this.scroller(e.target.contentWindow); //initialise scroller\n\t            resolve(scroller); //resolve to the instance of `HeaderScroller`\n\t          });\n\t        }\n\t      });\n\t    }\n\t    this.sidenav = new _sideNav2.default();\n\t\n\t    this.mq = new _mediaQuery2.default({ query: \"max-width:\" + breakpoint + \"px\" }, function (matches) {\n\t      console.log(matches);\n\t      if (!matches) {\n\t        // if desktop\n\t        _this.swapHeader(document.querySelector('.reportal-bar'));\n\t        _this.sidenav.removeEventListeners();\n\t      } else {\n\t        // if mobile\n\t        _this.swapHeader(document.querySelector('.reportal-header'));\n\t        _this.sidenav.addEventListeners();\n\t      }\n\t    }, this);\n\t  }\n\t\n\t  /**\r\n\t   * Function that sets this.header to a new HTMLElement and does the same for HeaderScroller\r\n\t   * */\n\t\n\t\n\t  _createClass(MenuTransformer, [{\n\t    key: \"swapHeader\",\n\t    value: function swapHeader(header) {\n\t      this.header = header;\n\t      if (this.iframe && this.pScroller) {\n\t        this.pScroller.then(function (hs) {\n\t          return hs.header = header;\n\t        });\n\t      }\n\t    }\n\t\n\t    /**\r\n\t     * Function that initialises scroller on the header element\r\n\t     * @param {Window} w - window object of the iframe\r\n\t     * @returns {HeaderScroller} Returns `HeaderScroller` instance\r\n\t     * */\n\t\n\t  }, {\n\t    key: \"scroller\",\n\t    value: function scroller(w) {\n\t      console.log('r2 iframe loaded');\n\t\n\t      // quick hack to hide a black editor bar\n\t\n\t      var rHeader = this.header,\n\t          scroller = void 0;\n\t      if (rHeader) {\n\t        scroller = new _headerScroller2.default(w, rHeader);\n\t        console.log(scroller);\n\t      }\n\t      return scroller;\n\t    }\n\t  }]);\n\t\n\t  return MenuTransformer;\n\t}();\n\t\n\texports.default = MenuTransformer;\n\tmodule.exports = exports['default'];\n\n/***/ },\n/* 4 */\n/***/ function(module, exports) {\n\n\t'use strict';\n\t\n\tObject.defineProperty(exports, \"__esModule\", {\n\t  value: true\n\t});\n\t\n\tvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\t\n\tfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\t\n\tvar HeaderScroller = function () {\n\t  /**\r\n\t   * `HeaderScroller` is a class that listens to `iframe`'s window.scroll event and scrolls the `header` when the iframe is scrolled\r\n\t   * @param {Window} win - iframe.contentWindow\r\n\t   * @param {HTMLElement} header - header element that needs to be scrolled\r\n\t   * */\n\t  function HeaderScroller(win, header) {\n\t    _classCallCheck(this, HeaderScroller);\n\t\n\t    win.requestAnimationFrame = win.requestAnimationFrame || win.mozRequestAnimationFrame || win.webkitRequestAnimationFrame || win.msRequestAnimationFrame;\n\t\n\t    this._meta = {\n\t      ticking: false,\n\t      offsetHeight: null,\n\t      header: null,\n\t      lastScrollY: 0,\n\t      window: win\n\t    };\n\t    this.header = header;\n\t  }\n\t\n\t  _createClass(HeaderScroller, [{\n\t    key: 'requestTick',\n\t    value: function requestTick(callback) {\n\t      if (!this._meta.ticking) {\n\t        requestAnimationFrame(callback);\n\t        this._meta.ticking = true;\n\t      }\n\t    }\n\t  }, {\n\t    key: 'attachListeners',\n\t    value: function attachListeners() {\n\t      var win = this._meta.window;\n\t      win.addEventListener(\"scroll\", this.scrollFixed.bind(this), false); // attach a resize listener to resize the header\n\t      //win.addEventListener(\"scroll\", this.resizeFixed.bind(this), false); // attach a resize listener to resize the header\n\t    }\n\t  }, {\n\t    key: 'detachListeners',\n\t    value: function detachListeners() {\n\t      var win = this._meta.window;\n\t      win.removeEventListener(\"scroll\", this.scrollFixed); // attach a resize listener to resize the header\n\t      //win.removeEventListener(\"scroll\", this.resizeFixed); // attach a resize listener to resize the header\n\t    }\n\t\n\t    /**\r\n\t     * Calculates widths for all columns in the fixed header based on the `source`\r\n\t     * */\n\t\n\t  }, {\n\t    key: 'resizeFixed',\n\t    value: function resizeFixed() {\n\t      var _this = this;\n\t\n\t      this.requestTick(function () {\n\t        _this._meta.offsetHeight = _this.header.offsetHeight;\n\t        _this._meta.ticking = false;\n\t        _this.scrollFixed(); // to compensate top offset in case after resize the table is less in height and top has changed\n\t      });\n\t    }\n\t\n\t    /**\r\n\t     * Displays a fixed header when the table header is scrolled off the screen\r\n\t     * */\n\t\n\t  }, {\n\t    key: 'scrollFixed',\n\t    value: function scrollFixed() {\n\t      //console.log(this._meta.window);\n\t      this._meta.lastScrollY = this._meta.window.pageYOffset;\n\t      this.requestTick(this.constructor._scrollCallback.bind(this));\n\t    }\n\t  }, {\n\t    key: 'header',\n\t    get: function get() {\n\t      return this._meta.header;\n\t    },\n\t    set: function set(val) {\n\t      var offset = void 0;\n\t      if (this.header != null) {\n\t        offset = this._meta.header.style.top + 'px';\n\t        this._meta.header.style.top = \"0px\";\n\t        this._meta.header.classList.remove('scrollable-header');\n\t        this.detachListeners();\n\t      }\n\t      this._meta.header = val;\n\t      this._meta.header.style.top = offset;\n\t      this._meta.header.classList.add('scrollable-header');\n\t      this._meta.offsetHeight = this._meta.header.offsetHeight; //calculate header height\n\t      this._meta.window.document.querySelector('body').style.marginTop = this._meta.header.offsetHeight + \"px\";\n\t      this.attachListeners();\n\t    }\n\t  }], [{\n\t    key: '_scrollCallback',\n\t    value: function _scrollCallback() {\n\t      var offset = this._meta.lastScrollY,\n\t          offsetTop = this._meta.offsetHeight;\n\t      this.header.style.top = -offset + 'px';\n\t      this._meta.ticking = false;\n\t    }\n\t  }]);\n\t\n\t  return HeaderScroller;\n\t}();\n\t\n\texports.default = HeaderScroller;\n\tmodule.exports = exports['default'];\n\n/***/ },\n/* 5 */\n/***/ function(module, exports) {\n\n\t'use strict';\n\t\n\tObject.defineProperty(exports, \"__esModule\", {\n\t  value: true\n\t});\n\t\n\tvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\t\n\tfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\t\n\t/**\r\n\t *\r\n\t * Copyright 2016 Google Inc. All rights reserved.\r\n\t *\r\n\t * Licensed under the Apache License, Version 2.0 (the \"License\");\r\n\t * you may not use this file except in compliance with the License.\r\n\t * You may obtain a copy of the License at\r\n\t *\r\n\t *     http://www.apache.org/licenses/LICENSE-2.0\r\n\t *\r\n\t * Unless required by applicable law or agreed to in writing, software\r\n\t * distributed under the License is distributed on an \"AS IS\" BASIS,\r\n\t * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\r\n\t * See the License for the specific language governing permissions and\r\n\t * limitations under the License.\r\n\t */\n\t\n\tvar Detabinator = function () {\n\t  /**\r\n\t   * Helps to maintain a healthy tabulation within the sidebar when it's open, rather than tabulate the whole page\r\n\t   * Usage:\r\n\t   *\r\n\t   * ``` javascript\r\n\t   * const detabinator = new Detabinator(element);\r\n\t   * detabinator.inert = true;  // Sets all focusable children of element to tabindex=-1\r\n\t   * detabinator.inert = false; // Restores all focusable children of element\r\n\t   * ```\r\n\t   * @param {HTMLElement} element\r\n\t   */\n\t  function Detabinator(element) {\n\t    _classCallCheck(this, Detabinator);\n\t\n\t    if (!element) {\n\t      throw new Error('Missing required argument. new Detabinator needs an element reference');\n\t    }\n\t    this._inert = false;\n\t    this._focusableElementsString = 'a[href], area[href], input:not([disabled]), select:not([disabled]), textarea:not([disabled]), button:not([disabled]), iframe, object, embed, [tabindex], [contenteditable]';\n\t    this._focusableElements = Array.from(element.querySelectorAll(this._focusableElementsString));\n\t  }\n\t\n\t  _createClass(Detabinator, [{\n\t    key: 'inert',\n\t    get: function get() {\n\t      return this._inert;\n\t    },\n\t    set: function set(isInert) {\n\t      if (this._inert === isInert) {\n\t        return;\n\t      }\n\t\n\t      this._inert = isInert;\n\t\n\t      this._focusableElements.forEach(function (child) {\n\t        if (isInert) {\n\t          // If the child has an explict tabindex save it\n\t          if (child.hasAttribute('tabindex')) {\n\t            child.__savedTabindex = child.tabIndex;\n\t          }\n\t          // Set ALL focusable children to tabindex -1\n\t          child.setAttribute('tabindex', -1);\n\t        } else {\n\t          // If the child has a saved tabindex, restore it\n\t          // Because the value could be 0, explicitly check that it's not false\n\t          if (child.__savedTabindex === 0 || child.__savedTabindex) {\n\t            return child.setAttribute('tabindex', child.__savedTabindex);\n\t          } else {\n\t            // Remove tabindex from ANY REMAINING children\n\t            child.removeAttribute('tabindex');\n\t          }\n\t        }\n\t      });\n\t    }\n\t  }]);\n\t\n\t  return Detabinator;\n\t}();\n\t\n\texports.default = Detabinator;\n\tmodule.exports = exports['default'];\n\n/***/ },\n/* 6 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\t\n\tObject.defineProperty(exports, \"__esModule\", {\n\t  value: true\n\t});\n\t\n\tvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }(); /**\r\n\t                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                      *\r\n\t                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                      * Copyright 2016 Google Inc. All rights reserved.\r\n\t                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                      *\r\n\t                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                      * Licensed under the Apache License, Version 2.0 (the \"License\");\r\n\t                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                      * you may not use this file except in compliance with the License.\r\n\t                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                      * You may obtain a copy of the License at\r\n\t                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                      *\r\n\t                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                      *     http://www.apache.org/licenses/LICENSE-2.0\r\n\t                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                      *\r\n\t                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                      * Unless required by applicable law or agreed to in writing, software\r\n\t                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                      * distributed under the License is distributed on an \"AS IS\" BASIS,\r\n\t                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                      * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\r\n\t                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                      * See the License for the specific language governing permissions and\r\n\t                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                      * limitations under the License.\r\n\t                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                      */\n\t\n\tvar _detabinator = __webpack_require__(5);\n\t\n\tvar _detabinator2 = _interopRequireDefault(_detabinator);\n\t\n\tfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\t\n\tfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\t\n\tvar SideNav = function () {\n\t  /**\r\n\t   * A class that sets up a sidebar that is dismissed on scrim-click or on swipe and is opend on hamburger-icon click\r\n\t   * */\n\t  function SideNav() {\n\t    _classCallCheck(this, SideNav);\n\t\n\t    this.showButtonEl = document.querySelector('.js-menu-show');\n\t    this.hideButtonEl = document.querySelector('.js-menu-hide');\n\t    this.sideNavEl = document.querySelector('.js-side-nav');\n\t    this.sideNavContainerEl = document.querySelector('.js-side-nav-container');\n\t    // Control whether the container's children can be focused\n\t    // Set initial state to inert since the drawer is offscreen\n\t    this.detabinator = new _detabinator2.default(this.sideNavContainerEl);\n\t    this.detabinator.inert = true;\n\t\n\t    this.showSideNav = this.showSideNav.bind(this);\n\t    this.hideSideNav = this.hideSideNav.bind(this);\n\t    this.constructor.blockClicks = this.constructor.blockClicks.bind(this);\n\t    this.onTouchStart = this.onTouchStart.bind(this);\n\t    this.onTouchMove = this.onTouchMove.bind(this);\n\t    this.onTouchEnd = this.onTouchEnd.bind(this);\n\t    this.onTransitionEnd = this.onTransitionEnd.bind(this);\n\t    this.update = this.update.bind(this);\n\t\n\t    this.startX = 0;\n\t    this.currentX = 0;\n\t    this.touchingSideNav = false;\n\t\n\t    this.supportsPassive = undefined;\n\t    //this.addEventListeners();\n\t  }\n\t\n\t  // apply passive event listening if it's supported\n\t\n\t\n\t  _createClass(SideNav, [{\n\t    key: 'applyPassive',\n\t    value: function applyPassive() {\n\t      if (this.supportsPassive !== undefined) {\n\t        return this.supportsPassive ? { passive: true } : false;\n\t      }\n\t      // feature detect\n\t      var isSupported = false;\n\t      try {\n\t        document.addEventListener('test', null, { get passive() {\n\t            isSupported = true;\n\t          } });\n\t      } catch (e) {}\n\t      this.supportsPassive = isSupported;\n\t      return this.applyPassive();\n\t    }\n\t  }, {\n\t    key: 'addEventListeners',\n\t    value: function addEventListeners() {\n\t      this.showButtonEl.addEventListener('click', this.showSideNav);\n\t      this.hideButtonEl.addEventListener('click', this.hideSideNav);\n\t      this.sideNavEl.addEventListener('click', this.hideSideNav);\n\t      this.sideNavContainerEl.addEventListener('click', this.constructor.blockClicks);\n\t\n\t      this.sideNavEl.addEventListener('touchstart', this.onTouchStart, this.applyPassive());\n\t      this.sideNavEl.addEventListener('touchmove', this.onTouchMove, this.applyPassive());\n\t      this.sideNavEl.addEventListener('touchend', this.onTouchEnd);\n\t    }\n\t  }, {\n\t    key: 'removeEventListeners',\n\t    value: function removeEventListeners() {\n\t      this.showButtonEl.removeEventListener('click', this.showSideNav);\n\t      this.hideButtonEl.removeEventListener('click', this.hideSideNav);\n\t      this.sideNavEl.removeEventListener('click', this.hideSideNav);\n\t      this.sideNavContainerEl.removeEventListener('click', this.constructor.blockClicks);\n\t\n\t      this.sideNavEl.removeEventListener('touchstart', this.onTouchStart);\n\t      this.sideNavEl.removeEventListener('touchmove', this.onTouchMove);\n\t      this.sideNavEl.removeEventListener('touchend', this.onTouchEnd);\n\t    }\n\t  }, {\n\t    key: 'onTouchStart',\n\t    value: function onTouchStart(evt) {\n\t      if (!this.sideNavEl.classList.contains('side-nav--visible')) return;\n\t      //TODO:support sidebar scrolling as well\n\t      this.startX = evt.touches[0].pageX;\n\t      this.currentX = this.startX;\n\t\n\t      this.touchingSideNav = true;\n\t      requestAnimationFrame(this.update);\n\t    }\n\t  }, {\n\t    key: 'onTouchMove',\n\t    value: function onTouchMove(evt) {\n\t      if (!this.touchingSideNav) return;\n\t\n\t      this.currentX = evt.touches[0].pageX;\n\t    }\n\t  }, {\n\t    key: 'onTouchEnd',\n\t    value: function onTouchEnd(evt) {\n\t      if (!this.touchingSideNav) return;\n\t\n\t      this.touchingSideNav = false;\n\t\n\t      var translateX = Math.min(0, this.currentX - this.startX);\n\t      this.sideNavContainerEl.style.transform = '';\n\t\n\t      if (translateX < 0) {\n\t        this.hideSideNav();\n\t      }\n\t    }\n\t  }, {\n\t    key: 'update',\n\t    value: function update() {\n\t      if (!this.touchingSideNav) return;\n\t\n\t      requestAnimationFrame(this.update);\n\t\n\t      var translateX = Math.min(0, this.currentX - this.startX);\n\t      this.sideNavContainerEl.style.transform = 'translateX(' + translateX + 'px)';\n\t    }\n\t  }, {\n\t    key: 'onTransitionEnd',\n\t    value: function onTransitionEnd(evt) {\n\t      this.sideNavEl.classList.remove('side-nav--animatable');\n\t      this.sideNavEl.removeEventListener('transitionend', this.onTransitionEnd);\n\t    }\n\t  }, {\n\t    key: 'showSideNav',\n\t    value: function showSideNav() {\n\t      document.querySelector('body').style.overflow = \"hidden\";\n\t      this.sideNavEl.classList.add('side-nav--animatable');\n\t      this.sideNavEl.classList.add('side-nav--visible');\n\t      this.detabinator.inert = false;\n\t      this.sideNavEl.addEventListener('transitionend', this.onTransitionEnd);\n\t    }\n\t  }, {\n\t    key: 'hideSideNav',\n\t    value: function hideSideNav() {\n\t      document.querySelector('body').style.overflow = \"auto\";\n\t      this.sideNavEl.classList.add('side-nav--animatable');\n\t      this.sideNavEl.classList.remove('side-nav--visible');\n\t      this.detabinator.inert = true;\n\t      this.sideNavEl.addEventListener('transitionend', this.onTransitionEnd);\n\t    }\n\t  }], [{\n\t    key: 'blockClicks',\n\t    value: function blockClicks(evt) {\n\t      evt.stopPropagation();\n\t    }\n\t  }]);\n\t\n\t  return SideNav;\n\t}();\n\t\n\texports.default = SideNav;\n\tmodule.exports = exports['default'];\n\n/***/ },\n/* 7 */\n/***/ function(module, exports) {\n\n\t// removed by extract-text-webpack-plugin\n\n/***/ }\n/******/ ]);\n\n\n// WEBPACK FOOTER //\n// media-report.bundle.js"," \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId])\n \t\t\treturn installedModules[moduleId].exports;\n\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\texports: {},\n \t\t\tid: moduleId,\n \t\t\tloaded: false\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.loaded = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(0);\n\n\n\n// WEBPACK FOOTER //\n// webpack/bootstrap a3cec94a22c5be027459","require('./main.css');\r\nimport MDHierarchy from \"./hierarchy/hierarchy\";\r\nimport MenuTransformer from \"./navigation/menu-transformer\";\r\n\r\nwindow.addEventListener('DOMContentLoaded',()=>{\r\n  window.Reportal = window.Reportal || {};\r\n  window.Reportal.state = window.Reportal.state || {};\r\n  let state = window.Reportal.state;\r\n  state.hierarchy = new MDHierarchy(); //setup listeners for hierarchy component on open and scrim click\r\n  state.menuTransformer = new MenuTransformer(); //setup listeners for hierarchy component on open and scrim click\r\n});\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/main.js","/**\r\n * Created by IvanP on 13.12.2016.\r\n */\r\n/**\r\n * `MediaQuery` helps perform actions when CSS query is matched instead of polling the window width, when it's not so important to get exact width, only checking matching the query.\r\n *\r\n * ``` javascript\r\n * function onMatch(matches){\r\n *  if(matches){\r\n *    // do what you need when the mediaquery is matched\r\n *  } else {\r\n *     // do what you need when the media query is not matched\r\n *  }\r\n * }\r\n *\r\n *  var mq = new MediaQuery({query:\"max-width:760px\"},onMatch,this);\r\n *\r\n *  //at any time you may check whether it matches the query:\r\n *\r\n *  mq.matches //true or false\r\n * ```\r\n *\r\n * @param {Object} options\r\n * @param {Object} options.query - The CSS media query to evaluate.\r\n * @param {Boolean} [options.full=false] - If true, the query attribute is assumed to be a complete media query string rather than a single media feature.\r\n * @param {Function} callback - function to execute when matching is evaluated\r\n * @param {Object|Function} [context=this] - context in which the `callback` function needs to be executed\r\n *\r\n * @property {Boolean} matches - whether the query matches the window width. Readonly.\r\n * @property {Boolean} full - If true, the query attribute is assumed to be a complete media query string rather than a single media feature.\r\n * @property {String} query - The CSS media query to evaluate.\r\n * */\r\nclass MediaQuery{\r\n  constructor(options,callback,context=this){\r\n    let {query,full=false} = options;\r\n    this._matches = false;\r\n    this.full = full;\r\n    this._mq = null;\r\n    this._callback = callback;\r\n    this._context = context;\r\n    this._bound = this._onMatch.bind(this);\r\n    this.query=query;\r\n  }\r\n\r\n  _onMatch(mq){\r\n    this._matches = mq.matches;\r\n    return this._callback.call(this._context,mq.matches)\r\n  }\r\n\r\n  get matches(){\r\n    return this._matches;\r\n  }\r\n\r\n  get query(){\r\n    return this._query;\r\n  }\r\n\r\n  set query(val){\r\n    this._query = val;\r\n    this.constructor.remove(this._mq,this._bound);\r\n    let query = this.query;\r\n    if (!query) {\r\n      return;\r\n    }\r\n    if (!this.full && query[0] !== '(') {\r\n      query = '(' + query + ')';\r\n    }\r\n    this._mq = window.matchMedia(query);\r\n    this._onMatch(this._mq);\r\n    this.constructor.add(this._mq,this._bound);\r\n  }\r\n\r\n  static add(mq,bound){\r\n    if (mq) {\r\n      mq.addListener(bound);\r\n    }\r\n  }\r\n\r\n  static remove(mq,bound) {\r\n    if (mq) {\r\n      mq.removeListener(bound);\r\n    }\r\n    mq = null;\r\n  }\r\n}\r\nexport default MediaQuery\r\n\n\n\n// WEBPACK FOOTER //\n// ./~/media-query/src/main.js","/**\r\n * Created by IvanP on 07.12.2016.\r\n */\r\n\r\nclass MDHierarchy {\r\n  /**\r\n   * attaches a listener to a hierarchy popup when it's initialised to be able to close it on click-outside\r\n   * */\r\n  constructor(){\r\n    let btn = document.querySelector('.dd-target-button');\r\n    if(btn){\r\n      btn.addEventListener('click',e=>{\r\n        this.constructor.noScroll();\r\n        let dd = btn.parentNode.querySelector('.dd-drilldown');\r\n        if(!dd){\r\n          setTimeout(()=>{\r\n            dd = btn.parentNode.querySelector('.dd-drilldown');\r\n            if(dd){\r\n              dd.addEventListener('click', closE=>{\r\n                let cancel = dd.querySelector('.dd-cancel'),\r\n                    apply = dd.querySelector('.dd-button-select');\r\n                if(closE.path[0]==dd || closE.path[0]==cancel || closE.path[0]==apply){\r\n                  if(closE.path[0]==dd){cancel.click();}\r\n                  this.constructor.scroll();\r\n                }\r\n              })\r\n            }\r\n          },300);\r\n        }\r\n      })\r\n    }\r\n  }\r\n  static noScroll(){\r\n    document.querySelector('body').setAttribute('style','overflow:hidden !important');\r\n  }\r\n  static scroll(){\r\n    document.querySelector('body').setAttribute('style','');\r\n  }\r\n}\r\n\r\nexport default MDHierarchy;\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/hierarchy/hierarchy.js","import SideNav from \"../side-nav/side-nav\";\r\nimport MediaQuery from \"media-query\";\r\nimport HeaderScroller from \"../r2/header-scroller\";\r\n\r\n\r\nclass MenuTransformer{\r\n  /**\r\n   * This class sets up a listener to detect whether the viewport matches the max-width set up in `breakpoint` and based on existence of an integration-iframe\r\n   * sets up heade scrollers or just swaps the header into horizontal or sidebar navigation modes\r\n   * @param {Number} [breakpoint=768] - max-width of device viewport that is considered to be a mobile device and hosts a mobile sidebar.\r\n   * @requires MediaQuery\r\n   * @requires SideNav\r\n   * @requires HeaderScroller\r\n   * */\r\n  constructor(breakpoint=768){\r\n    this.iframe = document.querySelector('.r2dashboard');\r\n\r\n    this.header = document.querySelector('.reportal-bar');\r\n\r\n    // if it's integration page - do scrolling\r\n    if(this.iframe){\r\n      document.querySelector('.body-wrapper').classList.add('integration-mode'); //reverse layout to make header appear above iframe\r\n\r\n      this.pScroller = new Promise((resolve,reject)=>{\r\n        let scroller;\r\n        if(this.iframe.contentWindow.location.href!='about:blank'){\r\n          scroller = this.scroller(this.iframe.contentWindow);\r\n\r\n\r\n          resolve(scroller); //resolve to the instance of `HeaderScroller`\r\n        } else {\r\n          this.iframe.addEventListener('load',e=>{\r\n            scroller = this.scroller(e.target.contentWindow); //initialise scroller\r\n            resolve(scroller); //resolve to the instance of `HeaderScroller`\r\n          });\r\n        }\r\n      });\r\n    }\r\n    this.sidenav = new SideNav();\r\n\r\n    this.mq = new MediaQuery({query:`max-width:${breakpoint}px`},(matches)=>{\r\n      console.log(matches);\r\n      if(!matches){ // if desktop\r\n        this.swapHeader(document.querySelector('.reportal-bar'));\r\n        this.sidenav.removeEventListeners();\r\n      } else { // if mobile\r\n        this.swapHeader(document.querySelector('.reportal-header'));\r\n        this.sidenav.addEventListeners();\r\n      }\r\n    },this);\r\n  }\r\n\r\n  /**\r\n   * Function that sets this.header to a new HTMLElement and does the same for HeaderScroller\r\n   * */\r\n  swapHeader(header){\r\n    this.header = header;\r\n    if(this.iframe && this.pScroller){\r\n      this.pScroller.then(hs=>hs.header = header);\r\n    }\r\n  }\r\n\r\n\r\n  /**\r\n   * Function that initialises scroller on the header element\r\n   * @param {Window} w - window object of the iframe\r\n   * @returns {HeaderScroller} Returns `HeaderScroller` instance\r\n   * */\r\n  scroller(w){\r\n    console.log('r2 iframe loaded');\r\n\r\n    // quick hack to hide a black editor bar\r\n\r\n    let rHeader = this.header,\r\n      scroller;\r\n    if(rHeader){\r\n      scroller = new HeaderScroller(w,rHeader);\r\n      console.log(scroller);\r\n    }\r\n    return scroller;\r\n  }\r\n}\r\n\r\nexport default MenuTransformer;\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/navigation/menu-transformer.js","\r\nclass HeaderScroller{\r\n  /**\r\n   * `HeaderScroller` is a class that listens to `iframe`'s window.scroll event and scrolls the `header` when the iframe is scrolled\r\n   * @param {Window} win - iframe.contentWindow\r\n   * @param {HTMLElement} header - header element that needs to be scrolled\r\n   * */\r\n  constructor(win,header){\r\n    win.requestAnimationFrame = win.requestAnimationFrame || win.mozRequestAnimationFrame || win.webkitRequestAnimationFrame || win.msRequestAnimationFrame;\r\n\r\n    this._meta = {\r\n      ticking:false,\r\n      offsetHeight:null,\r\n      header:null,\r\n      lastScrollY:0,\r\n      window:win\r\n    };\r\n    this.header = header;\r\n  }\r\n\r\n  get header(){\r\n    return this._meta.header;\r\n  }\r\n  set header(val){\r\n    let offset;\r\n    if(this.header!=null){\r\n      offset = `${this._meta.header.style.top}px`;\r\n      this._meta.header.style.top = \"0px\";\r\n      this._meta.header.classList.remove('scrollable-header');\r\n      this.detachListeners();\r\n    }\r\n    this._meta.header = val;\r\n    this._meta.header.style.top = offset;\r\n    this._meta.header.classList.add('scrollable-header');\r\n    this._meta.offsetHeight = this._meta.header.offsetHeight; //calculate header height\r\n    this._meta.window.document.querySelector('body').style.marginTop = this._meta.header.offsetHeight + \"px\";\r\n    this.attachListeners();\r\n  }\r\n\r\n  requestTick(callback){\r\n    if(!this._meta.ticking) {\r\n      requestAnimationFrame(callback);\r\n      this._meta.ticking = true;\r\n    }\r\n  }\r\n\r\n  attachListeners(){\r\n    let win = this._meta.window;\r\n    win.addEventListener(\"scroll\", this.scrollFixed.bind(this), false); // attach a resize listener to resize the header\r\n    //win.addEventListener(\"scroll\", this.resizeFixed.bind(this), false); // attach a resize listener to resize the header\r\n  }\r\n  detachListeners(){\r\n    let win = this._meta.window;\r\n    win.removeEventListener(\"scroll\", this.scrollFixed); // attach a resize listener to resize the header\r\n    //win.removeEventListener(\"scroll\", this.resizeFixed); // attach a resize listener to resize the header\r\n  }\r\n\r\n\r\n  /**\r\n   * Calculates widths for all columns in the fixed header based on the `source`\r\n   * */\r\n  resizeFixed(){\r\n    this.requestTick(()=>{\r\n      this._meta.offsetHeight = this.header.offsetHeight;\r\n      this._meta.ticking=false;\r\n      this.scrollFixed(); // to compensate top offset in case after resize the table is less in height and top has changed\r\n    })\r\n  }\r\n\r\n  /**\r\n   * Displays a fixed header when the table header is scrolled off the screen\r\n   * */\r\n  scrollFixed() {\r\n    //console.log(this._meta.window);\r\n    this._meta.lastScrollY = this._meta.window.pageYOffset;\r\n    this.requestTick(this.constructor._scrollCallback.bind(this));\r\n  }\r\n\r\n  static _scrollCallback(){\r\n    let offset = this._meta.lastScrollY,\r\n      offsetTop = this._meta.offsetHeight;\r\n    this.header.style.top=-offset+'px';\r\n    this._meta.ticking=false;\r\n  }\r\n}\r\n\r\nexport default HeaderScroller\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/r2/header-scroller.js","/**\r\n *\r\n * Copyright 2016 Google Inc. All rights reserved.\r\n *\r\n * Licensed under the Apache License, Version 2.0 (the \"License\");\r\n * you may not use this file except in compliance with the License.\r\n * You may obtain a copy of the License at\r\n *\r\n *     http://www.apache.org/licenses/LICENSE-2.0\r\n *\r\n * Unless required by applicable law or agreed to in writing, software\r\n * distributed under the License is distributed on an \"AS IS\" BASIS,\r\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\r\n * See the License for the specific language governing permissions and\r\n * limitations under the License.\r\n */\r\n\r\n\r\nclass Detabinator {\r\n  /**\r\n   * Helps to maintain a healthy tabulation within the sidebar when it's open, rather than tabulate the whole page\r\n   * Usage:\r\n   *\r\n   * ``` javascript\r\n   * const detabinator = new Detabinator(element);\r\n   * detabinator.inert = true;  // Sets all focusable children of element to tabindex=-1\r\n   * detabinator.inert = false; // Restores all focusable children of element\r\n   * ```\r\n   * @param {HTMLElement} element\r\n   */\r\n  constructor(element) {\r\n    if (!element) {\r\n      throw new Error('Missing required argument. new Detabinator needs an element reference');\r\n    }\r\n    this._inert = false;\r\n    this._focusableElementsString = 'a[href], area[href], input:not([disabled]), select:not([disabled]), textarea:not([disabled]), button:not([disabled]), iframe, object, embed, [tabindex], [contenteditable]';\r\n    this._focusableElements = Array.from(\r\n      element.querySelectorAll(this._focusableElementsString)\r\n    );\r\n  }\r\n\r\n  get inert() {\r\n    return this._inert;\r\n  }\r\n\r\n  set inert(isInert) {\r\n    if (this._inert === isInert) {\r\n      return;\r\n    }\r\n\r\n    this._inert = isInert;\r\n\r\n    this._focusableElements.forEach((child) => {\r\n      if (isInert) {\r\n        // If the child has an explict tabindex save it\r\n        if (child.hasAttribute('tabindex')) {\r\n          child.__savedTabindex = child.tabIndex;\r\n        }\r\n        // Set ALL focusable children to tabindex -1\r\n        child.setAttribute('tabindex', -1);\r\n      } else {\r\n        // If the child has a saved tabindex, restore it\r\n        // Because the value could be 0, explicitly check that it's not false\r\n        if (child.__savedTabindex === 0 || child.__savedTabindex) {\r\n          return child.setAttribute('tabindex', child.__savedTabindex);\r\n        } else {\r\n          // Remove tabindex from ANY REMAINING children\r\n          child.removeAttribute('tabindex');\r\n        }\r\n      }\r\n    });\r\n  }\r\n}\r\nexport default Detabinator;\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/side-nav/detabinator.js","/**\r\n *\r\n * Copyright 2016 Google Inc. All rights reserved.\r\n *\r\n * Licensed under the Apache License, Version 2.0 (the \"License\");\r\n * you may not use this file except in compliance with the License.\r\n * You may obtain a copy of the License at\r\n *\r\n *     http://www.apache.org/licenses/LICENSE-2.0\r\n *\r\n * Unless required by applicable law or agreed to in writing, software\r\n * distributed under the License is distributed on an \"AS IS\" BASIS,\r\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\r\n * See the License for the specific language governing permissions and\r\n * limitations under the License.\r\n */\r\n\r\nimport Detabinator from \"./detabinator\";\r\n\r\nclass SideNav {\r\n  /**\r\n   * A class that sets up a sidebar that is dismissed on scrim-click or on swipe and is opend on hamburger-icon click\r\n   * */\r\n  constructor () {\r\n    this.showButtonEl = document.querySelector('.js-menu-show');\r\n    this.hideButtonEl = document.querySelector('.js-menu-hide');\r\n    this.sideNavEl = document.querySelector('.js-side-nav');\r\n    this.sideNavContainerEl = document.querySelector('.js-side-nav-container');\r\n    // Control whether the container's children can be focused\r\n    // Set initial state to inert since the drawer is offscreen\r\n    this.detabinator = new Detabinator(this.sideNavContainerEl);\r\n    this.detabinator.inert = true;\r\n\r\n    this.showSideNav = this.showSideNav.bind(this);\r\n    this.hideSideNav = this.hideSideNav.bind(this);\r\n    this.constructor.blockClicks = this.constructor.blockClicks.bind(this);\r\n    this.onTouchStart = this.onTouchStart.bind(this);\r\n    this.onTouchMove = this.onTouchMove.bind(this);\r\n    this.onTouchEnd = this.onTouchEnd.bind(this);\r\n    this.onTransitionEnd = this.onTransitionEnd.bind(this);\r\n    this.update = this.update.bind(this);\r\n\r\n    this.startX = 0;\r\n    this.currentX = 0;\r\n    this.touchingSideNav = false;\r\n\r\n    this.supportsPassive = undefined;\r\n    //this.addEventListeners();\r\n  }\r\n\r\n  // apply passive event listening if it's supported\r\n  applyPassive () {\r\n    if (this.supportsPassive !== undefined) {\r\n      return this.supportsPassive ? {passive: true} : false;\r\n    }\r\n    // feature detect\r\n    let isSupported = false;\r\n    try {\r\n      document.addEventListener('test', null, {get passive () {\r\n        isSupported = true;\r\n      }});\r\n    } catch (e) { }\r\n    this.supportsPassive = isSupported;\r\n    return this.applyPassive();\r\n  }\r\n\r\n  addEventListeners () {\r\n    this.showButtonEl.addEventListener('click', this.showSideNav);\r\n    this.hideButtonEl.addEventListener('click', this.hideSideNav);\r\n    this.sideNavEl.addEventListener('click', this.hideSideNav);\r\n    this.sideNavContainerEl.addEventListener('click', this.constructor.blockClicks);\r\n\r\n    this.sideNavEl.addEventListener('touchstart', this.onTouchStart, this.applyPassive());\r\n    this.sideNavEl.addEventListener('touchmove', this.onTouchMove, this.applyPassive());\r\n    this.sideNavEl.addEventListener('touchend', this.onTouchEnd);\r\n  }\r\n\r\n  removeEventListeners () {\r\n    this.showButtonEl.removeEventListener('click', this.showSideNav);\r\n    this.hideButtonEl.removeEventListener('click', this.hideSideNav);\r\n    this.sideNavEl.removeEventListener('click', this.hideSideNav);\r\n    this.sideNavContainerEl.removeEventListener('click', this.constructor.blockClicks);\r\n\r\n    this.sideNavEl.removeEventListener('touchstart', this.onTouchStart);\r\n    this.sideNavEl.removeEventListener('touchmove', this.onTouchMove);\r\n    this.sideNavEl.removeEventListener('touchend', this.onTouchEnd);\r\n  }\r\n\r\n  onTouchStart (evt) {\r\n    if (!this.sideNavEl.classList.contains('side-nav--visible'))\r\n      return;\r\n    //TODO:support sidebar scrolling as well\r\n    this.startX = evt.touches[0].pageX;\r\n    this.currentX = this.startX;\r\n\r\n    this.touchingSideNav = true;\r\n    requestAnimationFrame(this.update);\r\n  }\r\n\r\n  onTouchMove (evt) {\r\n    if (!this.touchingSideNav)\r\n      return;\r\n\r\n    this.currentX = evt.touches[0].pageX;\r\n  }\r\n\r\n  onTouchEnd (evt) {\r\n    if (!this.touchingSideNav)\r\n      return;\r\n\r\n    this.touchingSideNav = false;\r\n\r\n    const translateX = Math.min(0, this.currentX - this.startX);\r\n    this.sideNavContainerEl.style.transform = '';\r\n\r\n    if (translateX < 0) {\r\n      this.hideSideNav();\r\n    }\r\n  }\r\n\r\n  update () {\r\n    if (!this.touchingSideNav)\r\n      return;\r\n\r\n    requestAnimationFrame(this.update);\r\n\r\n    const translateX = Math.min(0, this.currentX - this.startX);\r\n    this.sideNavContainerEl.style.transform = `translateX(${translateX}px)`;\r\n  }\r\n\r\n  static blockClicks (evt) {\r\n    evt.stopPropagation();\r\n  }\r\n\r\n  onTransitionEnd (evt) {\r\n    this.sideNavEl.classList.remove('side-nav--animatable');\r\n    this.sideNavEl.removeEventListener('transitionend', this.onTransitionEnd);\r\n  }\r\n\r\n  showSideNav () {\r\n    document.querySelector('body').style.overflow=\"hidden\";\r\n    this.sideNavEl.classList.add('side-nav--animatable');\r\n    this.sideNavEl.classList.add('side-nav--visible');\r\n    this.detabinator.inert = false;\r\n    this.sideNavEl.addEventListener('transitionend', this.onTransitionEnd);\r\n  }\r\n\r\n  hideSideNav () {\r\n    document.querySelector('body').style.overflow=\"auto\";\r\n    this.sideNavEl.classList.add('side-nav--animatable');\r\n    this.sideNavEl.classList.remove('side-nav--visible');\r\n    this.detabinator.inert = true;\r\n    this.sideNavEl.addEventListener('transitionend', this.onTransitionEnd);\r\n  }\r\n}\r\nexport default SideNav\r\n\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/side-nav/side-nav.js"],"sourceRoot":""}