{"version":3,"sources":["webpack:///r2integration.bundle.js","webpack:///webpack/bootstrap 7e4e6af3d87bde6992c4","webpack:///./C:/Users/IvanP/WebstormProjects/r2integration/src/main.js","webpack:///./C:/Users/IvanP/WebstormProjects/r2integration/src/hierarchy/hierarchy.js"],"names":["modules","__webpack_require__","moduleId","installedModules","exports","module","id","loaded","call","m","c","p","_interopRequireDefault","obj","__esModule","default","_classCallCheck","instance","Constructor","TypeError","Object","defineProperty","value","_createClass","defineProperties","target","props","i","length","descriptor","enumerable","configurable","writable","key","protoProps","staticProps","prototype","_hierarchy","_hierarchy2","HeaderScroller","win","header","_this","this","_meta","lastScrollY","ticking","offsetHeight","window","document","querySelector","style","marginTop","requestAnimationFrame","mozRequestAnimationFrame","webkitRequestAnimationFrame","msRequestAnimationFrame","addEventListener","scrollFixed","resizeFixed","callback","_this2","requestTick","pageYOffset","constructor","_scrollCallback","bind","offset","top","r2","e","console","log","r2window","contentWindow","rHeader","r2d2","MDHierarchy","btn","noScroll","dd","parentNode","setTimeout","closE","cancel","apply","path","click","scroll","setAttribute"],"mappings":"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","file":"r2integration.bundle.js","sourcesContent":["/******/ (function(modules) { // webpackBootstrap\n/******/ \t// The module cache\n/******/ \tvar installedModules = {};\n/******/\n/******/ \t// The require function\n/******/ \tfunction __webpack_require__(moduleId) {\n/******/\n/******/ \t\t// Check if module is in cache\n/******/ \t\tif(installedModules[moduleId])\n/******/ \t\t\treturn installedModules[moduleId].exports;\n/******/\n/******/ \t\t// Create a new module (and put it into the cache)\n/******/ \t\tvar module = installedModules[moduleId] = {\n/******/ \t\t\texports: {},\n/******/ \t\t\tid: moduleId,\n/******/ \t\t\tloaded: false\n/******/ \t\t};\n/******/\n/******/ \t\t// Execute the module function\n/******/ \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n/******/\n/******/ \t\t// Flag the module as loaded\n/******/ \t\tmodule.loaded = true;\n/******/\n/******/ \t\t// Return the exports of the module\n/******/ \t\treturn module.exports;\n/******/ \t}\n/******/\n/******/\n/******/ \t// expose the modules object (__webpack_modules__)\n/******/ \t__webpack_require__.m = modules;\n/******/\n/******/ \t// expose the module cache\n/******/ \t__webpack_require__.c = installedModules;\n/******/\n/******/ \t// __webpack_public_path__\n/******/ \t__webpack_require__.p = \"\";\n/******/\n/******/ \t// Load entry module and return exports\n/******/ \treturn __webpack_require__(0);\n/******/ })\n/************************************************************************/\n/******/ ([\n/* 0 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\t\n\tObject.defineProperty(exports, \"__esModule\", {\n\t  value: true\n\t});\n\t\n\tvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\t\n\tvar _hierarchy = __webpack_require__(1);\n\t\n\tvar _hierarchy2 = _interopRequireDefault(_hierarchy);\n\t\n\tfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\t\n\tfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\t\n\t__webpack_require__(2);\n\t\n\tvar HeaderScroller = function () {\n\t  function HeaderScroller(win, header) {\n\t    var _this = this;\n\t\n\t    _classCallCheck(this, HeaderScroller);\n\t\n\t    this.header = header;\n\t    //TODO: add functionality to dynamically add classes to body and header to make them float off the page.\n\t    this._meta = {\n\t      lastScrollY: 0,\n\t      ticking: false,\n\t      offsetHeight: header.offsetHeight,\n\t      window: win\n\t    };\n\t    win.document.querySelector('body').style.marginTop = header.offsetHeight + \"px\";\n\t\n\t    win.requestAnimationFrame = win.requestAnimationFrame || win.mozRequestAnimationFrame || win.webkitRequestAnimationFrame || win.msRequestAnimationFrame;\n\t\n\t    win.addEventListener(\"scroll\", function () {\n\t      _this.scrollFixed();\n\t    }, false); // attach a resize listener to resize the header\n\t    win.addEventListener(\"scroll\", function () {\n\t      _this.resizeFixed();\n\t    }, false); // attach a resize listener to resize the header\n\t  }\n\t\n\t  _createClass(HeaderScroller, [{\n\t    key: 'requestTick',\n\t    value: function requestTick(callback) {\n\t      if (!this._meta.ticking) {\n\t        requestAnimationFrame(callback);\n\t        this._meta.ticking = true;\n\t      }\n\t    }\n\t\n\t    /**\n\t     * Calculates widths for all columns in the fixed header based on the `source`\n\t     * */\n\t\n\t  }, {\n\t    key: 'resizeFixed',\n\t    value: function resizeFixed() {\n\t      var _this2 = this;\n\t\n\t      this.requestTick(function () {\n\t        _this2._meta.offsetHeight = _this2.header.offsetHeight;\n\t        _this2._meta.ticking = false;\n\t        _this2.scrollFixed(); // to compensate top offset in case after resize the table is less in height and top has changed\n\t      });\n\t    }\n\t\n\t    /**\n\t     * Displays a fixed header when the table header is scrolled off the screen\n\t     * */\n\t\n\t  }, {\n\t    key: 'scrollFixed',\n\t    value: function scrollFixed() {\n\t      //console.log(this._meta.window);\n\t      this._meta.lastScrollY = this._meta.window.pageYOffset;\n\t      this.requestTick(this.constructor._scrollCallback.bind(this));\n\t    }\n\t  }], [{\n\t    key: '_scrollCallback',\n\t    value: function _scrollCallback() {\n\t      var offset = this._meta.lastScrollY,\n\t          offsetTop = this._meta.offsetHeight;\n\t      this.header.style.top = -offset + 'px';\n\t      this._meta.ticking = false;\n\t    }\n\t  }]);\n\t\n\t  return HeaderScroller;\n\t}();\n\t\n\texports.default = HeaderScroller;\n\t\n\t\n\twindow.addEventListener('DOMContentLoaded', function () {\n\t  var h = new _hierarchy2.default(); //setup listeners for hierarchy component on open and scrim click\n\t  var r2 = document.querySelector('.r2dashboard');\n\t  if (r2) {\n\t    r2.addEventListener('load', function (e) {\n\t      console.log('r2 iframe loaded');\n\t      var r2window = e.target.contentWindow;\n\t      var rHeader = document.querySelector('.reportalBar');\n\t      if (rHeader) {\n\t        var r2d2 = new HeaderScroller(r2window, rHeader);\n\t        console.log(r2d2);\n\t      }\n\t    });\n\t  }\n\t});\n\tmodule.exports = exports['default'];\n\n/***/ },\n/* 1 */\n/***/ function(module, exports) {\n\n\t'use strict';\n\t\n\tObject.defineProperty(exports, \"__esModule\", {\n\t  value: true\n\t});\n\t\n\tvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\t\n\tfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\t\n\t/**\n\t * Created by IvanP on 07.12.2016.\n\t */\n\t\n\tvar MDHierarchy = function () {\n\t  function MDHierarchy() {\n\t    var _this = this;\n\t\n\t    _classCallCheck(this, MDHierarchy);\n\t\n\t    var btn = document.querySelector('.dd-target-button');\n\t    if (btn) {\n\t\n\t      btn.addEventListener('click', function (e) {\n\t        _this.constructor.noScroll();\n\t        var dd = btn.parentNode.querySelector('.dd-drilldown');\n\t        if (!dd) {\n\t          setTimeout(function () {\n\t            dd = btn.parentNode.querySelector('.dd-drilldown');\n\t            if (dd) {\n\t              dd.addEventListener('click', function (closE) {\n\t                var cancel = dd.querySelector('.dd-cancel'),\n\t                    apply = dd.querySelector('.dd-button-select');\n\t                if (closE.path[0] == dd || closE.path[0] == cancel || closE.path[0] == apply) {\n\t                  if (closE.path[0] == dd) {\n\t                    cancel.click();\n\t                  }\n\t                  _this.constructor.scroll();\n\t                }\n\t              });\n\t            }\n\t          }, 300);\n\t        }\n\t      });\n\t    }\n\t  }\n\t\n\t  _createClass(MDHierarchy, null, [{\n\t    key: 'noScroll',\n\t    value: function noScroll() {\n\t      document.querySelector('body').setAttribute('style', 'overflow:hidden !important');\n\t    }\n\t  }, {\n\t    key: 'scroll',\n\t    value: function scroll() {\n\t      document.querySelector('body').setAttribute('style', '');\n\t    }\n\t  }]);\n\t\n\t  return MDHierarchy;\n\t}();\n\t\n\texports.default = MDHierarchy;\n\tmodule.exports = exports['default'];\n\n/***/ },\n/* 2 */\n/***/ function(module, exports) {\n\n\t// removed by extract-text-webpack-plugin\n\n/***/ }\n/******/ ]);\n\n\n// WEBPACK FOOTER //\n// r2integration.bundle.js"," \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId])\n \t\t\treturn installedModules[moduleId].exports;\n\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\texports: {},\n \t\t\tid: moduleId,\n \t\t\tloaded: false\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.loaded = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(0);\n\n\n\n// WEBPACK FOOTER //\n// webpack/bootstrap 7e4e6af3d87bde6992c4","require('./main.css');\nimport MDHierarchy from \"./hierarchy/hierarchy\";\n\nexport default class HeaderScroller{\n  constructor(win,header){\n    this.header = header;\n//TODO: add functionality to dynamically add classes to body and header to make them float off the page.\n    this._meta = {\n      lastScrollY:0,\n      ticking:false,\n      offsetHeight:header.offsetHeight,\n      window:win\n    };\n    win.document.querySelector('body').style.marginTop =  header.offsetHeight + \"px\";\n\n    win.requestAnimationFrame = win.requestAnimationFrame || win.mozRequestAnimationFrame || win.webkitRequestAnimationFrame || win.msRequestAnimationFrame;\n\n    win.addEventListener(\"scroll\", ()=>{this.scrollFixed()}, false); // attach a resize listener to resize the header\n    win.addEventListener(\"scroll\", ()=>{this.resizeFixed()}, false); // attach a resize listener to resize the header\n  }\n\n  requestTick(callback){\n    if(!this._meta.ticking) {\n      requestAnimationFrame(callback);\n      this._meta.ticking = true;\n    }\n  }\n\n  /**\n   * Calculates widths for all columns in the fixed header based on the `source`\n   * */\n  resizeFixed(){\n    this.requestTick(()=>{\n      this._meta.offsetHeight = this.header.offsetHeight;\n      this._meta.ticking=false;\n      this.scrollFixed(); // to compensate top offset in case after resize the table is less in height and top has changed\n    })\n  }\n\n  /**\n   * Displays a fixed header when the table header is scrolled off the screen\n   * */\n  scrollFixed() {\n    //console.log(this._meta.window);\n    this._meta.lastScrollY = this._meta.window.pageYOffset;\n    this.requestTick(this.constructor._scrollCallback.bind(this));\n  }\n\n  static _scrollCallback(){\n    let offset = this._meta.lastScrollY,\n        offsetTop = this._meta.offsetHeight;\n      this.header.style.top=-offset+'px';\n    this._meta.ticking=false;\n  }\n}\n\nwindow.addEventListener('DOMContentLoaded',()=>{\n    let h = new MDHierarchy(); //setup listeners for hierarchy component on open and scrim click\n  let r2 = document.querySelector('.r2dashboard');\n  if(r2){\n    r2.addEventListener('load',(e)=>{\n      console.log('r2 iframe loaded');\n      let r2window = e.target.contentWindow;\n      let rHeader = document.querySelector('.reportalBar');\n      if(rHeader){\n        let r2d2 = new HeaderScroller(r2window,rHeader);\n        console.log(r2d2)\n      }\n    })\n  }\n});\n\n\n\n// WEBPACK FOOTER //\n// ./C:/Users/IvanP/WebstormProjects/r2integration/src/main.js","/**\n * Created by IvanP on 07.12.2016.\n */\n\nclass MDHierarchy {\n  constructor(){\n    let btn = document.querySelector('.dd-target-button');\n    if(btn){\n\n      btn.addEventListener('click',e=>{\n        this.constructor.noScroll();\n        let dd = btn.parentNode.querySelector('.dd-drilldown');\n        if(!dd){\n          setTimeout(()=>{\n            dd = btn.parentNode.querySelector('.dd-drilldown');\n            if(dd){\n              dd.addEventListener('click', closE=>{\n                let cancel = dd.querySelector('.dd-cancel'),\n                    apply = dd.querySelector('.dd-button-select');\n                if(closE.path[0]==dd || closE.path[0]==cancel || closE.path[0]==apply){\n                  if(closE.path[0]==dd){cancel.click();}\n                  this.constructor.scroll();\n                }\n              })\n            }\n          },300);\n        }\n      })\n    }\n  }\n  static noScroll(){\n    document.querySelector('body').setAttribute('style','overflow:hidden !important');\n  }\n  static scroll(){\n    document.querySelector('body').setAttribute('style','');\n  }\n}\n\nexport default MDHierarchy;\n\n\n\n// WEBPACK FOOTER //\n// ./C:/Users/IvanP/WebstormProjects/r2integration/src/hierarchy/hierarchy.js"],"sourceRoot":""}