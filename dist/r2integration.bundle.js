!function(e){function t(n){if(i[n])return i[n].exports;var s=i[n]={exports:{},id:n,loaded:!1};return e[n].call(s.exports,s,s.exports,t),s.loaded=!0,s.exports}var i={};return t.m=e,t.c=i,t.p="",t(0)}([function(e,t,i){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}var s=i(2),r=n(s),a=i(3),o=n(a);i(7),window.addEventListener("DOMContentLoaded",function(){window.Reportal=window.Reportal||{},window.Reportal.state=window.Reportal.state||{};var e=window.Reportal.state;e.hierarchy=new r.default,e.menuTransformer=new o.default})},function(e,t){"use strict";function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var n=function(){function e(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,i,n){return i&&e(t.prototype,i),n&&e(t,n),t}}(),s=function(){function e(t,n){var s=arguments.length>2&&void 0!==arguments[2]?arguments[2]:this;i(this,e);var r=t.query,a=t.full,o=void 0!==a&&a;this._matches=!1,this.full=o,this._mq=null,this._callback=n,this._context=s,this._bound=this._onMatch.bind(this),this.query=r}return n(e,[{key:"_onMatch",value:function(e){return this._matches=e.matches,this._callback.call(this._context,e.matches)}},{key:"matches",get:function(){return this._matches}},{key:"query",get:function(){return this._query},set:function(e){this._query=e,this.constructor.remove(this._mq,this._bound);var t=this.query;t&&(this.full||"("===t[0]||(t="("+t+")"),this._mq=window.matchMedia(t),this._onMatch(this._mq),this.constructor.add(this._mq,this._bound))}}],[{key:"add",value:function(e,t){e&&e.addListener(t)}},{key:"remove",value:function(e,t){e&&e.removeListener(t),e=null}}]),e}();t.default=s,e.exports=t.default},function(e,t){"use strict";function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var n=function(){function e(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,i,n){return i&&e(t.prototype,i),n&&e(t,n),t}}(),s=function(){function e(){var t=this;i(this,e);var n=document.querySelector(".dd-target-button");n&&n.addEventListener("click",function(e){t.constructor.noScroll();var i=n.parentNode.querySelector(".dd-drilldown");i||setTimeout(function(){i=n.parentNode.querySelector(".dd-drilldown"),i&&i.addEventListener("click",function(e){var n=i.querySelector(".dd-cancel"),s=i.querySelector(".dd-button-select");e.path[0]!=i&&e.path[0]!=n&&e.path[0]!=s||(e.path[0]==i&&n.click(),t.constructor.scroll())})},300)})}return n(e,null,[{key:"noScroll",value:function(){document.querySelector("body").setAttribute("style","overflow:hidden !important")}},{key:"scroll",value:function(){document.querySelector("body").setAttribute("style","")}}]),e}();t.default=s,e.exports=t.default},function(e,t,i){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function s(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,i,n){return i&&e(t.prototype,i),n&&e(t,n),t}}(),a=i(6),o=n(a),u=i(1),c=n(u),l=i(4),d=n(l),h=function(){function e(){var t=this,i=arguments.length>0&&void 0!==arguments[0]?arguments[0]:768;s(this,e),this.iframe=document.querySelector(".r2dashboard"),this.header=document.querySelector(".reportal-bar"),this.iframe&&(document.querySelector(".body-wrapper").classList.add("integration-mode"),this.pScroller=new Promise(function(e,i){var n=void 0;"about:blank"!=t.iframe.contentWindow.location.href?(n=t.scroller(t.iframe.contentWindow),e(n)):t.iframe.addEventListener("load",function(i){n=t.scroller(i.target.contentWindow),e(n)})})),this.sidenav=new o.default,this.mq=new c.default({query:"max-width:"+i+"px"},function(e){console.log(e),e?(t.swapHeader(document.querySelector(".reportal-header")),t.sidenav.addEventListeners()):(t.swapHeader(document.querySelector(".reportal-bar")),t.sidenav.removeEventListeners())},this)}return r(e,[{key:"swapHeader",value:function(e){this.header=e,this.iframe&&this.pScroller&&this.pScroller.then(function(t){return t.header=e})}},{key:"scroller",value:function e(t){console.log("r2 iframe loaded");var i=this.header,e=void 0;return i&&(e=new d.default(t,i),console.log(e)),e}}]),e}();t.default=h,e.exports=t.default},function(e,t){"use strict";function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var n=function(){function e(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,i,n){return i&&e(t.prototype,i),n&&e(t,n),t}}(),s=function(){function e(t,n){i(this,e),t.requestAnimationFrame=t.requestAnimationFrame||t.mozRequestAnimationFrame||t.webkitRequestAnimationFrame||t.msRequestAnimationFrame,this._meta={ticking:!1,offsetHeight:null,header:null,lastScrollY:0,window:t},this.header=n}return n(e,[{key:"requestTick",value:function(e){this._meta.ticking||(requestAnimationFrame(e),this._meta.ticking=!0)}},{key:"attachListeners",value:function(){var e=this._meta.window;e.addEventListener("scroll",this.scrollFixed.bind(this),!1)}},{key:"detachListeners",value:function(){var e=this._meta.window;e.removeEventListener("scroll",this.scrollFixed)}},{key:"resizeFixed",value:function(){var e=this;this.requestTick(function(){e._meta.offsetHeight=e.header.offsetHeight,e._meta.ticking=!1,e.scrollFixed()})}},{key:"scrollFixed",value:function(){this._meta.lastScrollY=this._meta.window.pageYOffset,this.requestTick(this.constructor._scrollCallback.bind(this))}},{key:"header",get:function(){return this._meta.header},set:function(e){var t=void 0;null!=this.header&&(t=this._meta.header.style.top+"px",this._meta.header.style.top="0px",this._meta.header.classList.remove("scrollable-header"),this.detachListeners()),this._meta.header=e,this._meta.header.style.top=t,this._meta.header.classList.add("scrollable-header"),this._meta.offsetHeight=this._meta.header.offsetHeight,this._meta.window.document.querySelector("body").style.marginTop=this._meta.header.offsetHeight+"px",this.attachListeners()}}],[{key:"_scrollCallback",value:function(){var e=this._meta.lastScrollY;this._meta.offsetHeight;this.header.style.top=-e+"px",this._meta.ticking=!1}}]),e}();t.default=s,e.exports=t.default},function(e,t){"use strict";function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var n=function(){function e(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,i,n){return i&&e(t.prototype,i),n&&e(t,n),t}}(),s=function(){function e(t){if(i(this,e),!t)throw new Error("Missing required argument. new Detabinator needs an element reference");this._inert=!1,this._focusableElementsString="a[href], area[href], input:not([disabled]), select:not([disabled]), textarea:not([disabled]), button:not([disabled]), iframe, object, embed, [tabindex], [contenteditable]",this._focusableElements=Array.from(t.querySelectorAll(this._focusableElementsString))}return n(e,[{key:"inert",get:function(){return this._inert},set:function(e){this._inert!==e&&(this._inert=e,this._focusableElements.forEach(function(t){if(e)t.hasAttribute("tabindex")&&(t.__savedTabindex=t.tabIndex),t.setAttribute("tabindex",-1);else{if(0===t.__savedTabindex||t.__savedTabindex)return t.setAttribute("tabindex",t.__savedTabindex);t.removeAttribute("tabindex")}}))}}]),e}();t.default=s,e.exports=t.default},function(e,t,i){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function s(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,i,n){return i&&e(t.prototype,i),n&&e(t,n),t}}(),a=i(5),o=n(a),u=function(){function e(){s(this,e),this.showButtonEl=document.querySelector(".js-menu-show"),this.hideButtonEl=document.querySelector(".js-menu-hide"),this.sideNavEl=document.querySelector(".js-side-nav"),this.sideNavContainerEl=document.querySelector(".js-side-nav-container"),this.detabinator=new o.default(this.sideNavContainerEl),this.detabinator.inert=!0,this.showSideNav=this.showSideNav.bind(this),this.hideSideNav=this.hideSideNav.bind(this),this.constructor.blockClicks=this.constructor.blockClicks.bind(this),this.onTouchStart=this.onTouchStart.bind(this),this.onTouchMove=this.onTouchMove.bind(this),this.onTouchEnd=this.onTouchEnd.bind(this),this.onTransitionEnd=this.onTransitionEnd.bind(this),this.update=this.update.bind(this),this.startX=0,this.currentX=0,this.touchingSideNav=!1,this.supportsPassive=void 0}return r(e,[{key:"applyPassive",value:function(){if(void 0!==this.supportsPassive)return!!this.supportsPassive&&{passive:!0};var e=!1;try{document.addEventListener("test",null,{get passive(){e=!0}})}catch(e){}return this.supportsPassive=e,this.applyPassive()}},{key:"addEventListeners",value:function(){this.showButtonEl.addEventListener("click",this.showSideNav),this.hideButtonEl.addEventListener("click",this.hideSideNav),this.sideNavEl.addEventListener("click",this.hideSideNav),this.sideNavContainerEl.addEventListener("click",this.constructor.blockClicks),this.sideNavEl.addEventListener("touchstart",this.onTouchStart,this.applyPassive()),this.sideNavEl.addEventListener("touchmove",this.onTouchMove,this.applyPassive()),this.sideNavEl.addEventListener("touchend",this.onTouchEnd)}},{key:"removeEventListeners",value:function(){this.showButtonEl.removeEventListener("click",this.showSideNav),this.hideButtonEl.removeEventListener("click",this.hideSideNav),this.sideNavEl.removeEventListener("click",this.hideSideNav),this.sideNavContainerEl.removeEventListener("click",this.constructor.blockClicks),this.sideNavEl.removeEventListener("touchstart",this.onTouchStart),this.sideNavEl.removeEventListener("touchmove",this.onTouchMove),this.sideNavEl.removeEventListener("touchend",this.onTouchEnd)}},{key:"onTouchStart",value:function(e){this.sideNavEl.classList.contains("side-nav--visible")&&(this.startX=e.touches[0].pageX,this.currentX=this.startX,this.touchingSideNav=!0,requestAnimationFrame(this.update))}},{key:"onTouchMove",value:function(e){this.touchingSideNav&&(this.currentX=e.touches[0].pageX)}},{key:"onTouchEnd",value:function(e){if(this.touchingSideNav){this.touchingSideNav=!1;var t=Math.min(0,this.currentX-this.startX);this.sideNavContainerEl.style.transform="",t<0&&this.hideSideNav()}}},{key:"update",value:function(){if(this.touchingSideNav){requestAnimationFrame(this.update);var e=Math.min(0,this.currentX-this.startX);this.sideNavContainerEl.style.transform="translateX("+e+"px)"}}},{key:"onTransitionEnd",value:function(e){this.sideNavEl.classList.remove("side-nav--animatable"),this.sideNavEl.removeEventListener("transitionend",this.onTransitionEnd)}},{key:"showSideNav",value:function(){document.querySelector("body").style.overflow="hidden",this.sideNavEl.classList.add("side-nav--animatable"),this.sideNavEl.classList.add("side-nav--visible"),this.detabinator.inert=!1,this.sideNavEl.addEventListener("transitionend",this.onTransitionEnd)}},{key:"hideSideNav",value:function(){document.querySelector("body").style.overflow="auto",this.sideNavEl.classList.add("side-nav--animatable"),this.sideNavEl.classList.remove("side-nav--visible"),this.detabinator.inert=!0,this.sideNavEl.addEventListener("transitionend",this.onTransitionEnd)}}],[{key:"blockClicks",value:function(e){e.stopPropagation()}}]),e}();t.default=u,e.exports=t.default},function(e,t){}]);
//# sourceMappingURL=r2integration.bundle.js.map